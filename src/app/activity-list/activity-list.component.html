
<div class="d-flex">
  <div class="flex-grow-1">
    <ngb-accordion #a="ngbAccordion" [closeOthers]="true" activeIds="">
      
      <ngb-panel
        *ngFor="let currentActivity of activities; let activityIndex = index"
        id="activity-{{activityIndex}}">
        <ng-template ngbPanelHeader>
          <app-activity
            [currentActivity]="currentActivity"
            [activityIndex]="activityIndex"
            [accordian]="a">
          </app-activity>
        </ng-template>
        <ng-template ngbPanelContent>
          <ul class="list-group">
            <!-- TODO: tag-panel.component -->
            <div *ngIf="currentActivity.tags.length > 0" class="list-group-item">
              <div class="d-flex flex-wrap">
                  <span 
                    class="mr-2 mb-2 badge badge-pill badge-primary"
                    *ngFor="let tag of currentActivity.tags"
                  >
                    {{ tag.name }}
                  </span>
              </div>
            </div>
            <!-- TODO: look into scrollspy -->
            <app-activity-instance 
              class="list-group-item"
              *ngFor="let instance of currentActivity.instances; let instanceIndex = index"
              [instance]="instance"
              [index]="instanceIndex"
              [accordian]="a"
              [activityIndex]="activityIndex">
            </app-activity-instance>
          </ul>  
        </ng-template>
      </ngb-panel>
  
    </ngb-accordion>
  </div>
</div>